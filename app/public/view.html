<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Hot Restaurant</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script src="view.js" type="text/javascript"></script>  
  <!-- <link href="/api/view_active"> -->


  <!-- <script type="text/javascript">
    /* $(document).ready(function() { */
      console.log("calling view.js")
  
      //const mysql = require('mysql')
      //var keys = require("./keys.js")
  
      app.use(express.static('public'));
  
      var client = mysql.createConnection({
          host: "localhost",
      
          // Your port; if not 3306
          port: 3306,
      
          // Your username
  
          user: "root", //keys.mysql.id,
          password: "Tbh.94552", // keys.mysql.secret,
  
          database: "reservationsDB"
      });
  
      active_query = 'SELECT * FROM reservations WHERE status = "active";'
      waitlist_query = 'SELECT * FROM reservations WHERE status = "waitlist";'
  
      var mysql_get = function(query, list) {
  
          client.connect();
  
          client.query(query, (err, result) => {
          console.log('query active run')
          if (err) throw err;
          console.log(result)
          renderList(list, result);
  
          /* for (let row of res.rows) {
          console.log(JSON.stringify(row));
          } */
          client.end();
          });
      };
  
      var renderList = function(list, data) {
  
          for (var i = 0; i < data.length; i++) {
              console.log(data[i]);
  
              var listGroupItem = $("<li class='" +list+ "-list'>");
  
              
              listGroupItem.append($("<h4>").text("Name: " + data[i].name));
              listGroupItem.append($("<h5>").text("Phone: " + data[i].phone));
              listGroupItem.append($("<h5>").text("Email: " + data[i].email));
  
              // listGroupItem.html(
              //     <h4 id="name">data[i].name</h4>
              //     <div id="stats">
              //         <h5><strong>Number of People:</strong> <span id="role">3</span></h5>
              //         <h5><strong>Time:</strong> <span id="age">7:00</span></h5>
              //         <h5><strong>Phone Number:</strong>data[i].phone</h5>
              //     </div>
              //     <hr>
              // )
              console.log("appending")
              $("#"+list).append(listGroupItem);
          }
      } 
  
      mysql_get(active_query, 'active');
      // mysql_get(waitlist_query, 'wait');
  
  /* }); */
    </script>
  -->


  <style>
    .jumbotron {
     text-align: center;
    }
    h1 {
     font-size: 62px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="jumbotron">
    <h1><i class="fa fa-free-code-camp" aria-hidden="true"></i> Hot Restaurant</h1>
    <hr>
    <h3>Book your seat before they are all gone!</h3>
    <br>
      <a href="/index"><button class="btn btn-primary btn-lg"><span class="fa fa-eye"></span> Home</button></a>
      <a href="/make"><button class="btn btn-danger btn-lg"><span class="fa fa-plus"></span> Make Reservation</button></a>
    </div>
    <div class="row">

      <div class="col-lg-12">

        <div class="card mb-4">
          <div class="card-header">
            <h3><strong>Reservations Search</strong></h3>
          </div>
          <div class="card-body">
            <input type="text" id="character-search" class="form-control">
            <br>
            <div class="text-right">
              <button type="submit" class="btn btn-primary btn-md" id="search-btn"><span class="fa fa-search"></span> Search
                </button>
            </div>
          </div>
        </div>

    <div class="card">
        <div class="card-header">
            <h3><strong>Active Reservations</strong></h3>
        </div>
        <div class="card-body">
            <h4 id="name">Takeo</h4>
            <div id="stats">
                <h5><strong>Number of People:</strong> <span id="role">3</span></h5>
                <h5><strong>Time:</strong> <span id="age">7:00</span></h5>
                <h5><strong>Phone Number:</strong> <span id="force-points">333-333-3333</span></h5>
            </div>
            <hr>
            <h4 id="name">Darren</h4>
            <div id="stats">
                <h5><strong>Number of People:</strong> <span id="role">5</span></h5>
                <h5><strong>Time:</strong> <span id="age">7:30</span></h5>
                <h5><strong>Phone Number:</strong> <span id="force-points">555-555-5555</span></h5>
            </div>
            <hr>
            <h4 id="name">Nataly</h4>
            <div id="stats">
                <h5><strong>Number of People:</strong> <span id="role">2</span></h5>
                <h5><strong>Time:</strong> <span id="age">8:00</span></h5>
                <h5><strong>Phone Number:</strong> <span id="force-points">777-777-7777</span></h5>
            </div>
        </div>
    </div>



      </div>
    </div>
  </div>
  
  <div class="active"></div>

  


</body>



</html>
